<div class="preview">
  <div class="print-btn no-print">
    <button mat-raised-button (click)="print()" color="primary">
      <mat-icon>print</mat-icon> PDF
    </button>
    <button mat-mini-fab (click)="close()" color="secondary">
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="preview-header">
    <div class="account">
      <div class="account-logo">
        <img src="/assets/images/logo.jpeg" alt="Account Logo">
      </div>
      <div class="account-name">{{report?.account?.name}}</div>
    </div>
    <div class="address">
      {{report?.account?.address}}
    </div>
  </div>
  <div class="preview-body">
    <div class="report-header">
      <div class="report-name">{{report?.name}}</div>
    </div>
    <div class="report-body">
      <table mat-table [dataSource]="report?.tableSource?.data">

        <ng-container *ngFor="let column of report?.tableSource?.header" [matColumnDef]="column.value">
          <th mat-header-cell *matHeaderCellDef> {{column.title}} </th>
          <ng-container *ngIf="column.value !== 'slno' && column.value !== 'status'">
            <td mat-cell *matCellDef="let element"> {{ element[column.value]}} </td>
          </ng-container>
          <ng-container *ngIf="column.value === 'slno'">
            <td mat-cell *matCellDef="let i = index;"> {{i + 1}} </td>
          </ng-container>
          <ng-container *ngIf="column.value === 'status'">
            <td mat-cell *matCellDef="let element"> {{ getStatus(element.status)}} </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="getColumns(); sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: getColumns();"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" colspan="12">There is no report found yet.</td>
        </tr>
      </table>

      <app-report-total [reportTotal]="report?.tableSource?.total"></app-report-total>
    </div>
  </div>
</div>
